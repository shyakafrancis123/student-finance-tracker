<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY SM@RT_SPEND</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>
<body>
        
    <header role="banner" class="app-header">
        <div class="container header-grid">
            <div class="brand">
                <!-- Custom SVG mark for unique identity -->
                <svg class="brand-mark" width="40" height="40" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <defs>
                        <linearGradient id="g1" x1="0%" x2="100%" y1="0%" y2="100%">
                            <stop offset="0%" stop-color="#25D366" />
                            <stop offset="100%" stop-color="#128C7E" />
                        </linearGradient>
                    </defs>
                    <rect width="24" height="24" rx="6" fill="url(#g1)"></rect>
                    <path d="M6 12c1.5-2 4-3 6-3s4.5 1 6 3" stroke="#fff" stroke-width="1.2" fill="none" stroke-linecap="round"></path>
                </svg>
                <div class="brand-text">
                    <h1 class="logo">SM@RT<span class="logo-accent">SPEND</span></h1>
                    <p class="tagline">Own your financial story</p>
                </div>
            </div>

            <div class="header-controls">
                <nav role="navigation" aria-label="Main navigation" class="main-nav">
                    <ul class="nav-list pill-nav">
                        <li><a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                        <li><a href="#records" class="nav-link" data-section="records">Records</a></li>
                        <li><a href="#add-transaction" class="nav-link" data-section="add-transaction">Add</a></li>
                        <li><a href="#settings" class="nav-link" data-section="settings">Settings</a></li>
                        <li><a href="#about" class="nav-link" data-section="about">About</a></li>
                    </ul>
                </nav>

                <div class="actions">
                    <button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle theme">
                        <span class="theme-text">Dark Mode</span>
                    </button>
                    <button class="avatar-btn" aria-label="Open profile">
                        <span class="avatar">FS</span>
                    </button>
                    <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" role="main">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active" aria-labelledby="dashboard-title">
            <div class="container">
                <h2 id="dashboard-title">My Financial Dashboard</h2>
                
                <!-- Status messages -->
                <div id="status-message" role="status" aria-live="polite" class="status-message"></div>
                <div id="alert-message" role="alert" aria-live="assertive" class="alert-message"></div>
                
                <!-- Stats cards -->
                <div class="stats-grid">
                    <div class="stat-card red">
                        <h3>My Total Transactions</h3>
                        <p class="stat-value" id="total-transactions">0</p>
                    </div>
                    <div class="stat-card green">
                        <h3>My Total Spent</h3>
                        <p class="stat-value" id="total-amount">$0.00</p>
                    </div>
                    <div class="stat-card yellow">
                        <h3>My Top Category</h3>
                        <p class="stat-value" id="top-category">None</p>
                    </div>
                    <div class="stat-card blue">
                        <h3>Last 7 Days</h3>
                        <p class="stat-value" id="week-spending">$0.00</p>
                    </div>
                </div>


                <!-- Pie Chart Section -->
                <div class="chart-section">
                    <h3>Spending by Category</h3>
                    <div class="chart-wrapper">
                        <canvas id="categoryPieChart"></canvas>
                    </div>
                </div>

                <!-- Line Graph Section -->
                <div class="chart-section">
                    <h3>Spending Trends (Last 30 Days)</h3>
                    <div class="chart-wrapper">
                        <canvas id="spendingLineChart"></canvas>
                    </div>
                </div>

                <!-- Budget Cap Section -->
                <div class="budget-section">
                    <h3>Total Monthly Budget</h3>
                    <div class="budget-controls">
                        <label for="budget-cap">Set Monthly Limit:</label>
                        <input type="number" id="budget-cap" min="0" step="0.01" placeholder="Enter budget cap">
                        <button id="set-budget-btn" class="btn btn-primary">Set Monthly Budget Limit</button>
                    </div>
                    <div class="budget-progress">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <p id="budget-status" class="budget-status"></p>
                    </div>
                </div>

                
            </div>
        </section>

        <!-- Records Section -->
        <section id="records" class="section" aria-labelledby="records-title">
            <div class="container">
                <h2 id="records-title">My Transaction Records</h2>
                
                <!-- Search and filter controls -->
                <div class="controls-section">
                    <div class="search-controls">
                        <label for="search-input">Search with Regex:</label>
                        <input type="text" id="search-input" placeholder="Search">
                        <div class="search-options">
                            <label>
                                <input type="checkbox" id="case-insensitive" checked>
                                Case Insensitive
                            </label>
                        </div>
                        <div id="search-error" class="error-message" role="alert"></div>
                    </div>
                    
                    <div class="sort-controls">
                        <label for="sort-select">Sort by:</label>
                        <select id="sort-select">
                            <option value="date-desc">Newest records</option>
                            <option value="date-asc">Oldest records</option>
                            <option value="description-asc">Alphabetically (A-Z)</option>
                            <option value="description-desc">Alphabetically (Z-A)</option>
                            <option value="amount-desc">Ascending (High to Low)</option>
                            <option value="amount-asc">Descending (Low to High)</option>
                        </select>
                    </div>
                </div>

                <!-- Records table/cards -->
                <div class="records-container">
                    <div class="table-container">
                        <table id="records-table" class="records-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Category</th>
                                    <th>Amount</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="records-tbody">
                                <!-- Records will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div id="records-cards" class="records-cards">
                        <!-- Mobile card view will be inserted here -->
                    </div>
                    
                    <div id="no-records" class="empty-state" style="display: none;">
                        <p>There were no transactions found. Please add your first transaction to get started!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Add/Edit Transaction Section -->
        <section id="add-transaction" class="section" aria-labelledby="add-title">
            <div class="container">
                <h2 id="add-title">Add Transaction</h2>
                
                <form id="transaction-form" class="transaction-form" novalidate>
                    <div class="form-group">
                        <label for="description">Description *</label>
                        <input type="text" id="description" name="description" required aria-describedby="description-error">
                        <div id="description-error" class="error-message" role="alert"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="amount">Amount *</label>
                        <div class="amount-input">
                            <span class="currency-symbol" id="currency-symbol">$</span>
                            <input type="text" id="amount" name="amount" required aria-describedby="amount-error" placeholder="0.00">
                        </div>
                        <div id="amount-error" class="error-message" role="alert"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">Category *</label>
                        <select id="category" name="category" required aria-describedby="category-error">
                            <option value="">Please Select a Category</option>
                            <option value="Food">Accomodation</option>
                            <option value="Books">Food</option>
                            <option value="Transport">Transport</option>
                            <option value="Entertainment">Outings with Friends</option>
                            <option value="Fees">Fees</option>
                            <option value="Other">Others</option>
                        </select>
                        <div id="category-error" class="error-message" role="alert"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">Date *</label>
                        <input type="date" id="date" name="date" required aria-describedby="date-error">
                        <div id="date-error" class="error-message" role="alert"></div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Add Transaction</button>
                        <button type="button" id="cancel-edit" class="btn btn-secondary" style="display: none;">Cancel</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="section" aria-labelledby="settings-title">
            <div class="container">
                <h2 id="settings-title">Settings</h2>
                
                <!-- Data Management -->
                <div class="settings-group">
                    <h3>Data Management</h3>
                    <div class="data-controls">
                        <button id="export-btn" class="btn btn-primary">Export Data (JSON)</button>
                        <div class="import-section">
                            <label for="import-file">Import Data:</label>
                            <input type="file" id="import-file" accept=".json">
                            <button id="import-btn" class="btn btn-secondary">Import</button>
                        </div>
                        <button id="clear-data-btn" class="btn btn-danger">Clear All Data</button>
                    </div>
                </div>

                <!-- Currency Settings -->
                <div class="settings-group">
                    <h3>FOREX-EXCHANGE Settings</h3>
                    <div class="form-group">
                        <label for="base-currency">Base Currency:</label>
                        <select id="base-currency">
                            <option value="USD">USD ($)</option>
                            <option value="EUR">EUR (€)</option>
                            <option value="GBP">GBP (£)</option>
                            <option value="CAD">CAD (C$)</option>
                            <option value="RWF">RF (FR)</option>
                        </select>
                    </div>
                    
                    <div class="currency-rates">
                        <h4>Exchange Rates (to Base Currency)</h4>
                        <div class="form-group">
                            <label for="eur-rate">EUR Rate:</label>
                            <input type="number" id="eur-rate" step="0.001" value="1.100" min="0">
                        </div>
                        <div class="form-group">
                            <label for="gbp-rate">GBP Rate:</label>
                            <input type="number" id="gbp-rate" step="0.001" value="1.250" min="0">
                        </div>
                        <div class="form-group">
                            <label for="cad-rate">CAD Rate:</label>
                            <input type="number" id="cad-rate" step="0.001" value="0.750" min="0">
                        </div>
                        <div class="form-group">
                            <label for="rwf-rate">RF Rate:</label>
                            <input type="number" id="rwf-rate" step="0.001" value="0.001" min="0">
                        </div>
                    </div>
                </div>
                
                <!-- Category Management -->
                <div class="settings-group">
                    <h3>Category Management</h3>
                    <div class="category-list" id="category-list">
                        <!-- Categories will be loaded here -->
                    </div>
                    <div class="form-group">
                        <label for="new-category">Add New Category:</label>
                        <input type="text" id="new-category" placeholder="Enter category name">
                        <button id="add-category-btn" class="btn btn-secondary">Add Category</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section" aria-labelledby="about-title">
            <div class="container">
                <h2 id="about-title">About MY SM@RT_SPEND</h2>
                
                <div class="about-content">
<div class="about-hero">
    <div class="hero-text">
        <h3>OWN YOUR FINANCIAL STORY TODAY</h3>
        <p class="hero-description">
            My Sm@rt Spend is a simple, user-friendly web application that helps students track their monthly budgets and spending.
        </p> 
        <p>You can:</p>
        <ul class="hero-features">
            <li>Add, edit, and delete transactions</li>
            <li>Set monthly spending caps and see progress</li>
            <li>Track spending by category</li>
            <li>Search transactions using advanced regex patterns</li>
            <li>Manage currencies with manual exchange rates</li>
        </ul>
        <p class="hero-cta">
            <div class="hero-contact">
    <strong>Contact:</strong><br>
    GitHub: <a href="https://github.com/shyakafrancis123" target="_blank">https://github.com/shyakafrancis123</a><br>
    Email: <a href="mailto:s.francis@alustudent.com">s.francis@alustudent.com</a>
</div>

        </p>
    </div>
</div>                        
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer role="contentinfo">
        <div class="container">
            <p>&copy; ALU2025            My Sm@rt_Spend. FRANCIS_SHYAKA.</p>
        </div>
    </footer>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal" role="dialog" aria-labelledby="edit-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="edit-modal-title">Edit Transaction</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-form" novalidate>
                    <!-- Form fields will be populated dynamically -->
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal" role="dialog" aria-labelledby="delete-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="delete-modal-title">Please Confirm Delete</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this transaction? Its irreversible.</p>
                <div class="modal-actions">
                    <button id="confirm-delete" class="btn btn-danger">Delete</button>
                    <button id="cancel-delete" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="scripts/main.js"></script>
</body>
</html>
